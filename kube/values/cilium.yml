# cilium-values.yaml

# --- General settings ---
k8sServiceHost: "192.168.49.2"   # from minikube ip
k8sServicePort: 8443
kubeProxyReplacement: true   # uses eBPF to replace kube-proxy
hostServices:
  enabled: false
externalIPs:
  enabled: true

# --- Networking ---
ipam:
  mode: kubernetes   # pod IPs managed by Cilium
routingMode: tunnel         # overlay; for cloud, can switch to 'disabled' (direct routing or ENI)
tunnelProtocol: vxlan
autoDirectNodeRoutes: false
enableIPv4Masquerade: true
enableIPv6Masquerade: false

# --- Policy enforcement ---
policyEnforcementMode: default   # can be 'always', 'default', or 'never'

# --- Hubble (observability) ---
hubble:
  enabled: true
  metrics:
    enabled:
      - dns
      - drop
      - tcp
      - flow
      - port-distribution
      - icmp
      - http
  relay:
    enabled: true
  ui:
    enabled: true

# --- KubeProxy replacement ---
bpf:
  masquerade: true
  tproxy: true
  hostRouting: true

# --- NodePort / Services ---
enableNodePort: true
enableHostPort: true
nodePort:
  enableHealthCheck: true

# --- Optional (for later) ---
# eni:
#   enabled: true
# ipam:
#   mode: eni
